import{r,u as B,a as T,j as e,S as c}from"./index-CWHltGBg.js";function R(){const[l,x]=r.useState(""),[i,p]=r.useState(""),[a,f]=r.useState(""),[t,g]=r.useState(""),[o,N]=r.useState(""),[j,b]=r.useState(!1),[v,w]=r.useState(!1),[m,C]=r.useState(!1),[S,E]=r.useState(!1),[P,y]=r.useState(!1),n=B(),{isLoggedIn:d}=T();r.useEffect(()=>{d&&n("/menuprincipal1",{replace:!0})},[d,n]);const u=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),F=l.trim()!==""&&i.trim()!==""&&a.trim()!==""&&u(a)&&t.trim()!==""&&o.trim()!==""&&t===o,A=s=>{if(s.preventDefault(),!F){c.fire({icon:"error",title:"Formulario inválido",text:"Por favor, revise los campos e intente de nuevo."});return}if(localStorage.getItem(a)){c.fire({icon:"error",title:"Usuario existente",text:"Ya existe una cuenta registrada con este correo."});return}const h={nombres:l,apellidos:i,email:a,password:t};localStorage.setItem(a,JSON.stringify(h)),c.fire({icon:"success",title:"¡Cuenta registrada!",text:"Serás redirigido al inicio de sesión...",timer:2e3,showConfirmButton:!1}),setTimeout(()=>{n("/proyecto1")},2e3)};return e.jsx("div",{className:"register-wrapper",children:e.jsx("div",{className:"register-form-card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h4",{className:"register-title2",children:"Crear Cuenta"}),e.jsxs("form",{onSubmit:A,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"nombres",className:"form-label",children:"Nombres"}),e.jsx("input",{placeholder:"Nombres",type:"text",className:"form-control register-correo",id:"nombres",value:l,onChange:s=>x(s.target.value),onBlur:()=>b(!0)}),j&&l.trim()===""&&e.jsx("small",{className:"text-danger",children:"Este campo es requerido."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"apellidos",className:"form-label",children:"Apellidos"}),e.jsx("input",{placeholder:"Apellidos",type:"text",className:"form-control register-correo",id:"apellidos",value:i,onChange:s=>p(s.target.value),onBlur:()=>w(!0)}),v&&i.trim()===""&&e.jsx("small",{className:"text-danger",children:"Este campo es requerido."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Correo"}),e.jsx("input",{placeholder:"Correo",type:"email",className:"form-control register-correo",id:"email",value:a,onChange:s=>f(s.target.value),onBlur:()=>C(!0)}),m&&a.trim()===""&&e.jsx("small",{className:"text-danger",children:"Este campo es requerido."}),m&&a.trim()!==""&&!u(a)&&e.jsx("small",{className:"text-danger",children:"El formato del correo es inválido."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"Contraseña"}),e.jsx("input",{placeholder:"Contraseña",type:"password",className:"form-control register-contraseña",id:"password",value:t,onChange:s=>g(s.target.value),onBlur:()=>E(!0)}),S&&t.trim()===""&&e.jsx("small",{className:"text-danger",children:"Este campo es requerido."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirmar contraseña"}),e.jsx("input",{placeholder:"Confirmar contraseña",type:"password",className:"form-control register-contraseña",id:"confirmPassword",value:o,onChange:s=>N(s.target.value),onBlur:()=>y(!0)}),P&&o.trim()===""&&e.jsx("small",{className:"text-danger",children:"Este campo es requerido."}),o&&t&&t!==o&&e.jsx("small",{className:"text-danger",children:"Las contraseñas no coinciden."})]}),e.jsx("div",{}),e.jsx("button",{type:"submit",className:"register-submit-btn",children:"Registrar"})]})]})})})}export{R as default};
