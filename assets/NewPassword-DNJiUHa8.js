import{r as t,u as b,a as E,j as e}from"./index-B7BJRibZ.js";import{S as d}from"./sweetalert2.esm.all-9Qm2jZ7z.js";function P(){const[a,u]=t.useState(""),[o,p]=t.useState(""),[r,w]=t.useState(""),[i,h]=t.useState(!1),[x,f]=t.useState(!1),[N,g]=t.useState(!1),l=b(),{isLoggedIn:c}=E();t.useEffect(()=>{c&&l("/menuprincipal",{replace:!0})},[c,l]);const v=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),m=a.trim()!==""&&o.trim()!==""&&r.trim()!==""&&r===o,j=s=>{if(s.preventDefault(),!m){d.fire({icon:"error",title:"Datos inválidos",text:"Por favor, verifica que los campos estén completos y que las contraseñas coincidan."});return}const n=JSON.parse(localStorage.getItem(a));n.password=r,localStorage.setItem(a,JSON.stringify(n)),d.fire({icon:"success",title:"Contraseña Nueva Registrada!",text:"Redirigiendo...",timer:2e3,showConfirmButton:!1}),setTimeout(()=>{l("/proyecto1")},2e3)};return e.jsx("div",{className:"newpassword-wrapper",children:e.jsx("div",{className:"newpassword-form-card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h4",{className:"newpassword-title1",children:"Recuperar Contraseña"}),e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),e.jsx("input",{type:"text",placeholder:"Email...",className:"form-control new-email",value:a,onChange:s=>u(s.target.value),onBlur:()=>h(!0)}),i&&a.trim()===""&&e.jsx("small",{className:"text-danger",children:"Este campo es requerido!!"}),i&&a.trim()!==""&&!v(a)&&e.jsx("small",{className:"text-danger",children:"El formato del correo es inválido."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"contraseña",className:"form-label",children:"Nueva Contraseña"}),e.jsx("input",{type:"password",placeholder:"Nueva contraseña...",className:"form-control new-password",value:o,onChange:s=>p(s.target.value),onBlur:()=>f(!0)}),x&&o.trim()===""&&e.jsx("small",{className:"text-danger",children:"Este campo es requerido!!"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"newpassword",className:"form-label",children:"Confirmar Contraseña"}),e.jsx("input",{type:"password",placeholder:"Confirmar contraseña...",className:"form-control new-newpassword",value:r,onChange:s=>w(s.target.value),onBlur:()=>g(!0)}),N&&r.trim()===""&&e.jsx("small",{className:"text-danger",children:'Este campo es requerido.""'}),r&&o&&o!==r&&e.jsx("small",{className:"text-danger",children:"La nueva contraseña no conincide!!"})]}),e.jsx("button",{type:"submit",className:"newpassword-submit-btn",disabled:!m,children:"Confirmar"})]})]})})})}export{P as default};
